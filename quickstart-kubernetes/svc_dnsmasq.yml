apiVersion: v1
kind: Service
metadata:
  namespace: ochami
  name: dnsmasq-nmn
spec:
  selector:
    app.kubernetes.io/name: dnsmasq
  type: LoadBalancer
  loadBalancerIP: 192.168.0.0 #FIXME: External ip for DHCP on the node network
  ports:
    - name: dnsmasq-dns
      port: 53
      protocol: UDP
    - name: dnsmasq-dhcp
      port: 67
      protocol: UDP
    - name: dnsmasq-tftp
      port: 69
      protocol: UDP

---

apiVersion: v1
kind: Service
metadata:
  namespace: ochami
  name: dnsmasq-hmn
spec:
  selector:
    app.kubernetes.io/name: dnsmasq
  type: LoadBalancer
  loadBalancerIP: 192.168.0.0 #FIXME: External ip for DHCP on the BMC network
  ports:
    - name: dnsmasq-dns
      port: 53
      protocol: UDP
    - name: dnsmasq-dhcp
      port: 67
      protocol: UDP
